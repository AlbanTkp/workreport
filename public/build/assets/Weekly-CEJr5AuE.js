import{r as b,j as e}from"./app-1iCyrP04.js";import{h as r,R as j}from"./ReportLayout-fIodY-Vo.js";const f=({tasks:l,startDate:o,endDate:n})=>{b.useEffect(()=>{window.print()},[]);const x={},c=[];let a=r(o);for(;a.isSameOrBefore(n);){const s=a.format("YYYY-MM-DD");c.push(s),x[s]=l.filter(d=>r(d.due_date).format("YYYY-MM-DD")===s),a.add(1,"days")}const m=l.length,h=l.filter(s=>s.status==="completed"),g=l.filter(s=>s.status==="in_progress"),p=l.filter(s=>s.status==="not_started"),i={high:l.filter(s=>s.priority==="high").length,medium:l.filter(s=>s.priority==="medium").length,low:l.filter(s=>s.priority==="low").length};return e.jsx(j,{title:"Weekly Report",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8 text-center border-b pb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Weekly Task Report"}),e.jsxs("p",{className:"text-lg text-gray-600",children:[r(o).format("MMMM D")," - ",r(n).format("MMMM D, YYYY")]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Weekly Overview"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:h.length})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-700",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:g.length})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"Not Started"}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:p.length})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Priority Distribution"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"High Priority"}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:i.high})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-700",children:"Medium Priority"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:i.medium})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"Low Priority"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:i.low})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Daily Breakdown"}),c.map(s=>{const d=x[s];return d.length===0?null:e.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2",children:r(s).format("dddd, MMMM D")}),e.jsx("div",{className:"space-y-4",children:d.map(t=>e.jsxs("div",{className:`p-4 rounded-lg ${t.status==="completed"?"bg-green-50":t.status==="in_progress"?"bg-yellow-50":"bg-red-50"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:t.description})]}),e.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${t.priority==="high"?"bg-red-100 text-red-800":t.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.priority})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"mr-4",children:["Status: ",t.status]}),e.jsxs("span",{children:["Progress: ",t.progress_percentage,"%"]})]})]},t.id))})]},s)})]}),e.jsx("div",{className:"mt-8 text-center text-gray-500 text-sm border-t pt-4",children:e.jsxs("p",{children:["Generated on ",r().format("MMMM D, YYYY [at] h:mm A")]})})]})})};export{f as default};
